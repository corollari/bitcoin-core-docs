<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>REST-interface</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel='shortcut icon' href='favicon.png' />
</head>
<body>
<h1 id="unauthenticated-rest-interface">Unauthenticated REST Interface</h1>
<p>The REST API can be enabled with the <code>-rest</code> option.</p>
<p>The interface runs on the same port as the JSON-RPC interface, by default port 8332 for mainnet, port 18332 for testnet, and port 18443 for regtest.</p>
<h2 id="rest-interface-consistency-guarantees">REST Interface consistency guarantees</h2>
<p>The <a href="/doc/JSON-RPC-interface.html#rpc-consistency-guarantees">same guarantees as for the RPC Interface</a> apply.</p>
<h2 id="supported-api">Supported API</h2>
<h4 id="transactions">Transactions</h4>
<p><code>GET /rest/tx/&lt;TX-HASH&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a transaction hash: returns a transaction in binary, hex-encoded binary, or JSON formats.</p>
<p>By default, this endpoint will only search the mempool. To query for a confirmed transaction, enable the transaction index via "txindex=1" command line / configuration option.</p>
<h4 id="blocks">Blocks</h4>
<p><code>GET /rest/block/&lt;BLOCK-HASH&gt;.&lt;bin|hex|json&gt;</code> <code>GET /rest/block/notxdetails/&lt;BLOCK-HASH&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a block hash: returns a block, in binary, hex-encoded binary or JSON formats. Responds with 404 if the block doesn't exist.</p>
<p>The HTTP request and response are both handled entirely in-memory, thus making maximum memory usage at least 2.66MB (1 MB max block, plus hex encoding) per request.</p>
<p>With the /notxdetails/ option JSON response will only contain the transaction hash instead of the complete transaction details. The option only affects the JSON response.</p>
<h4 id="blockheaders">Blockheaders</h4>
<p><code>GET /rest/headers/&lt;COUNT&gt;/&lt;BLOCK-HASH&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a block hash: returns <COUNT> amount of blockheaders in upward direction. Returns empty if the block doesn't exist or it isn't in the active chain.</p>
<h4 id="blockhash-by-height">Blockhash by height</h4>
<p><code>GET /rest/blockhashbyheight/&lt;HEIGHT&gt;.&lt;bin|hex|json&gt;</code></p>
<p>Given a height: returns hash of block in best-block-chain at height provided.</p>
<h4 id="chaininfos">Chaininfos</h4>
<p><code>GET /rest/chaininfo.json</code></p>
<p>Returns various state info regarding block chain processing. Only supports JSON as output format.</p>
<ul>
<li>chain : (string) current network name (main, test, regtest)</li>
<li>blocks : (numeric) the current number of blocks processed in the server</li>
<li>headers : (numeric) the current number of headers we have validated</li>
<li>bestblockhash : (string) the hash of the currently best block</li>
<li>difficulty : (numeric) the current difficulty</li>
<li>mediantime : (numeric) the median time of the 11 blocks before the most recent block on the blockchain</li>
<li>verificationprogress : (numeric) estimate of verification progress [0..1]</li>
<li>chainwork : (string) total amount of work in active chain, in hexadecimal</li>
<li>pruned : (boolean) if the blocks are subject to pruning</li>
<li>pruneheight : (numeric) highest block available</li>
<li>softforks : (array) status of softforks in progress</li>
<li>bip9_softforks : (object) status of BIP9 softforks in progress</li>
</ul>
<h4 id="query-utxo-set">Query UTXO set</h4>
<p><code>GET /rest/getutxos/&lt;checkmempool&gt;/&lt;txid&gt;-&lt;n&gt;/&lt;txid&gt;-&lt;n&gt;/.../&lt;txid&gt;-&lt;n&gt;.&lt;bin|hex|json&gt;</code></p>
<p>The getutxo command allows querying of the UTXO set given a set of outpoints. See BIP64 for input and output serialisation: <a href="https://github.com/bitcoin/bips/blob/master/bip-0064.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0064.mediawiki</a></p>
<p>Example:</p>
<pre><code>$ curl localhost:18332/rest/getutxos/checkmempool/b2cdfd7b89def827ff8af7cd9bff7627ff72e5e8b0f71210f92ea7a4000c5d75-0.json 2&gt;/dev/null | json_pp
{
   &quot;chainHeight&quot; : 325347,
   &quot;chaintipHash&quot; : &quot;00000000fb01a7f3745a717f8caebee056c484e6e0bfe4a9591c235bb70506fb&quot;,
   &quot;bitmap&quot;: &quot;1&quot;,
   &quot;utxos&quot; : [
      {
         &quot;txvers&quot; : 1
         &quot;height&quot; : 2147483647,
         &quot;value&quot; : 8.8687,
         &quot;scriptPubKey&quot; : {
            &quot;asm&quot; : &quot;OP_DUP OP_HASH160 1c7cebb529b86a04c683dfa87be49de35bcf589e OP_EQUALVERIFY OP_CHECKSIG&quot;,
            &quot;hex&quot; : &quot;76a9141c7cebb529b86a04c683dfa87be49de35bcf589e88ac&quot;,
            &quot;reqSigs&quot; : 1,
            &quot;type&quot; : &quot;pubkeyhash&quot;,
            &quot;addresses&quot; : [
               &quot;mi7as51dvLJsizWnTMurtRmrP8hG2m1XvD&quot;
            ]
         }
      }
   ]
}
</code></pre>
<h4 id="memory-pool">Memory pool</h4>
<p><code>GET /rest/mempool/info.json</code></p>
<p>Returns various information about the TX mempool. Only supports JSON as output format.</p>
<ul>
<li>loaded : (boolean) if the mempool is fully loaded</li>
<li>size : (numeric) the number of transactions in the TX mempool</li>
<li>bytes : (numeric) size of the TX mempool in bytes</li>
<li>usage : (numeric) total TX mempool memory usage</li>
<li>maxmempool : (numeric) maximum memory usage for the mempool in bytes</li>
<li>mempoolminfee : (numeric) minimum feerate (BTC per KB) for tx to be accepted</li>
</ul>
<p><code>GET /rest/mempool/contents.json</code></p>
<p>Returns transactions in the TX mempool. Only supports JSON as output format.</p>
<h2 id="risks">Risks</h2>
<p>Running a web browser on the same node with a REST enabled bitcoind can be a risk. Accessing prepared XSS websites could read out tx/block data of your node by placing links like <code>&lt;script src="http://127.0.0.1:8332/rest/tx/1234567890.json"&gt;</code> which might break the nodes privacy.</p>
</body>
</html>
